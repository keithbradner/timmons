<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Timmons Collection - Exhibition</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/entry.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>

    <div class="overlay"></div>
    <div class="grain"></div>

    <button id="global-back-btn" class="global-back-btn global-back-btn-top hidden" onclick="handleBack()">&larr; Back</button>
    <button id="global-back-btn-bottom" class="global-back-btn global-back-btn-bottom hidden" onclick="handleBack()">&larr; Back</button>

    <div id="ui-layer">

        <!-- Entry Selection Screen -->
        <div id="panel-entry" class="panel entry-panel">
            <div class="entry-header">
                <h1 class="entry-title">Coshocton Photography<br><span class="entry-subtitle">Innovation & Artistry</span></h1>
                <p class="entry-description">Explore the intersection of technical invention and artistic mastery in early 20th century photography.</p>
            </div>

            <div class="entry-options">
                <button class="entry-option" onclick="enterDarkroom()">
                    <div class="option-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </div>
                    <div class="option-content">
                        <h2>The Darkroom</h2>
                        <p>Try the inspection development technique Dever Timmons used</p>
                    </div>
                    <div class="option-arrow">&rarr;</div>
                </button>

                <button class="entry-option" onclick="enterPatents()">
                    <div class="option-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10 9 9 9 8 9"/>
                        </svg>
                    </div>
                    <div class="option-content">
                        <h2>Patent Gallery</h2>
                        <p>Walter B. Moore's innovations in film developing equipment</p>
                    </div>
                    <div class="option-arrow">&rarr;</div>
                </button>
            </div>

            <div class="entry-footer">
                <span>Touch to Select</span>
            </div>
        </div>

        <!-- Patents Gallery -->
        <div id="panel-patents" class="panel patents-panel hidden">
            <div class="patents-header">
                <h1>Walter B. Moore</h1>
                <p class="patents-subtitle">Film Developing Equipment Patents</p>
                <p class="patents-description">Around 1938, Walter B. Mooreâ€™s passion for photography led him to invent new equipment for photographic processing. He secured several U.S. and Canadian patents for camera and darkroom apparatus, demonstrating a blend of creative vision and engineering skill. His notable patents include:</p>
            </div>

            <div class="patents-list">
                <button class="patent-item" onclick="viewPatent(0)">
                    <div class="patent-number">US 2,226,438</div>
                    <div class="patent-title">Film-Developing Tank</div>
                    <div class="patent-year">1940</div>
                </button>

                <button class="patent-item" onclick="viewPatent(1)">
                    <div class="patent-number">US 2,236,197</div>
                    <div class="patent-title">Photographic Printing Easel</div>
                    <div class="patent-year">1941</div>
                </button>

                <button class="patent-item" onclick="viewPatent(2)">
                    <div class="patent-number">US 2,268,457</div>
                    <div class="patent-title">Developing Tray</div>
                    <div class="patent-year">1941</div>
                </button>

                <button class="patent-item" onclick="viewPatent(3)">
                    <div class="patent-number">US 2,268,458</div>
                    <div class="patent-title">Photographic Print Drying Frame</div>
                    <div class="patent-year">1941</div>
                </button>

                <button class="patent-item" onclick="viewPatent(4)">
                    <div class="patent-number">US 2,327,733</div>
                    <div class="patent-title">Film Developing Tank</div>
                    <div class="patent-year">1943</div>
                </button>

                <button class="patent-item" onclick="viewPatent(5)">
                    <div class="patent-number">US 2,344,558</div>
                    <div class="patent-title">Photographic Enlarger</div>
                    <div class="patent-year">1944</div>
                </button>

                <button class="patent-item" onclick="viewPatent(6)">
                    <div class="patent-number">US 2,365,485</div>
                    <div class="patent-title">Film Developing Rack</div>
                    <div class="patent-year">1944</div>
                </button>
            </div>
        </div>

        <!-- Patent Detail View -->
        <div id="panel-patent-detail" class="panel patent-detail-panel hidden">
            <div class="patent-detail-header">
                <div class="patent-detail-badge" id="patent-detail-number">US 2,226,438</div>
            </div>

            <div class="patent-detail-content">
                <h1 id="patent-detail-title">Patent Title</h1>
                <div class="patent-meta">
                    <span>Published <span id="patent-detail-year">1940</span></span>
                    <span class="meta-separator">|</span>
                    <span>Filed <span id="patent-detail-filed">May 28, 1938</span></span>
                </div>

                <div class="patent-description">
                    <h2>Abstract</h2>
                    <p id="patent-detail-description">Patent description will appear here.</p>
                </div>

                <div class="patent-document-section">
                    <h2>Patent Document</h2>
                    <div class="pdf-viewer-container">
                        <div id="pdf-pages-container" class="pdf-pages-container"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script type="module">
        import { setupInactivityTimer } from '/src/inactivity.js'
        import { initPatents, handleBack, enterPatents, viewPatent, returnToPatents, returnToEntry, getCurrentView } from '/src/patents.js'

        initPatents()

        // Expose functions for onclick handlers
        window.handleBack = handleBack
        window.enterPatents = enterPatents
        window.viewPatent = viewPatent
        window.returnToPatents = returnToPatents

        setupInactivityTimer(() => {
            if (getCurrentView() !== 'entry') {
                returnToEntry()
            }
        })

        window.enterDarkroom = function() {
            window.location.href = '/darkroom.html'
        }
    </script>
</body>
</html>
